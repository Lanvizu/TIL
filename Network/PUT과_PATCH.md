# HTTP PUT과 PATCH 메서드

PUT과 PATCH는 HTTP 프로토콜에서 **리소스를 수정**할 때 사용하는 메서드

둘 다 서버의 데이터를 변경하는 용도로 사용되지만, **수정 방식**에 차이가 존재

---

## PUT 메서드

### **개념**

* 리소스를 전체 **수정(교체)** 할 때 사용하는 메서드
* 요청 시 전달한 내용으로 기존 리소스를 **완전히 덮어씀**

### **특징**

1. **전체 수정**:

   * 리소스 전체를 새 값으로 교체
   * 전달하지 않은 필드는 **제거될 수 있음**

2. **데이터 전송 위치**:

   * 요청 데이터는 HTTP Body에 포함되어 전송

3. **멱등성**:

   * 동일한 요청을 여러 번 보내도 서버 상태는 같음

     > 즉, 여러 번 PUT 요청을 보내도 결과는 동일

4. **사용 목적**:

   * 전체 데이터를 알고 있을 때 사용
   * 리소스 전체를 대체할 필요가 있을 때 적합

### **사용 사례**

* 사용자 정보 전체 수정 (이름, 이메일, 주소 등 전체 덮어쓰기)
* 설정 값 전체 업데이트

---

## PATCH 메서드

### **개념**

* 리소스를 **부분 수정**할 때 사용하는 메서드
* 변경하고자 하는 **일부 필드만 전송**하면 됨

### **특징**

1. **부분 수정**:

   * 전체가 아닌 일부 필드만 수정
   * 전송하지 않은 필드는 기존 값 유지

2. **데이터 전송 위치**:

   * 요청 데이터는 HTTP Body에 포함되어 전송

3. **멱등성**:

   * 일부 구현에서는 멱등성을 가질 수 있지만, **보장되지 않음**
   * 구현 방식에 따라 서버 상태가 달라질 수 있음

4. **사용 목적**:

   * 특정 필드만 수정할 때 사용
   * 변경 범위가 작고, 전체 데이터를 알 필요가 없을 때 적합

### **사용 사례**

* 사용자 이메일만 수정
* 게시글의 제목만 변경

---

## PUT과 PATCH 비교

| 특징           | PUT                   | PATCH                    |
| ------------ | --------------------- | ------------------------ |
| **수정 방식**    | 전체 수정 (리소스 전체 대체)     | 부분 수정 (일부 필드만 변경)        |
| **요청 데이터**   | 전체 리소스를 포함해야 함        | 변경할 필드만 포함               |
| **멱등성**      | 있음 (같은 요청 반복해도 결과 동일) | 일부 구현에서는 있음, 일반적으로 보장 안됨 |
| **데이터 누락 시** | 해당 필드는 제거될 수 있음       | 해당 필드는 기존 상태 유지          |
| **사용 목적**    | 전체 교체가 필요할 때          | 특정 필드만 변경할 때             |
| **사용 사례**    | 사용자 정보 전체 업데이트        | 사용자 이름만 수정               |

---

* **PUT**은 리소스를 전체적으로 덮어쓰기 때문에 변경 대상이 명확하고, **멱등성**을 보장
* **PATCH**는 일부 필드만 수정할 수 있어 **트래픽 절감**에 유리하지만, **멱등성이 보장되지 않을 수 있음**

> * PUT = **전체 수정**
> * PATCH = **부분 수정**
