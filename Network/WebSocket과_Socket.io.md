# WebSocket과 Socket.io

실시간 웹 서비스 개발에서 **WebSocket**과 **Socket.io**는 자주 비교되는 기술

두 기술 모두 클라이언트와 서버 간의 **양방향 통신**을 지원하지만, 동작 방식과 지원 범위에서 차이가 존재

---

## WebSocket

### **개념**
- HTML5 표준의 일부로, 웹 브라우저와 서버 간에 **실시간 양방향 통신**을 가능하게 하는 프로토콜
- HTTP 프로토콜의 한계를 극복하고, 실시간 상호작용이 필요한 웹 서비스(채팅, 게임 등)에 적합

### **동작 방식**
- 최초 연결 시 HTTP 프로토콜을 이용해 **핸드셰이크(handshaking)**를 수행한 후
- 연결이 성립되면 **ws://**(또는 보안 연결의 경우 **wss://**)로 통신 진행
- 연결이 유지되는 동안 클라이언트와 서버는 자유롭게 데이터를 주고받음

### **특징**
- 표준 프로토콜(IETF 관리)
- 브라우저와 서버 모두 WebSocket을 지원해야 함
- 80, 443 포트 사용(방화벽 추가 설정 불필요)
- CORS, 인증 등 기존 HTTP 규격 활용 가능
- Chrome, Firefox, Safari, Opera 등 주요 브라우저 지원(구버전 브라우저는 미지원)
- 서버 구현체: Jetty, GlassFish, Node.js, Netty, Grizzly 등

### **장점**
- HTTP 요청-응답 방식보다 효율적인 실시간 데이터 교환
- 추가 포트 개방 없이 양방향 통신 가능
- 낮은 지연 시간과 높은 성능

### **단점**
- 브라우저 및 서버 모두 WebSocket을 지원해야 함
- 표준화 진행 중이었던 시기에는 브라우저별 호환성 이슈 존재

---

## Socket.io

### **개념**
- Node.js 환경에서 동작하는 **실시간 웹 통신 라이브러리**
- WebSocket뿐만 아니라 다양한 실시간 통신 방식을 하나의 API로 추상화하여 제공

### **동작 방식**
- WebSocket, AJAX Long Polling, Flash Socket, IFrame, JSONP Polling 등 다양한 기술을 내부적으로 자동 선택하여 사용
- 개발자는 동일한 API로 실시간 통신을 구현할 수 있으며, 클라이언트 환경에 따라 최적의 방식이 자동 적용

### **특징**
- Node.js 기반에서만 서버 구현 가능
- WebSocket 미지원 브라우저에서도 실시간 통신 가능
- 자동 재연결, 이벤트 기반 통신, 네임스페이스, 룸 등 다양한 부가 기능 제공
- 클라이언트와 서버 모두 JavaScript로 개발

### **장점**
- 브라우저 호환성 문제 자동 해결(구버전 브라우저 지원)
- 다양한 실시간 통신 방식 지원(폴백 기능)
- 개발이 쉽고, 실시간 푸쉬 메시지 구현이 간편
- 추가적인 기능(이벤트, 네임스페이스, 룸 등) 제공

### **단점**
- 서버 구현체가 Node.js에 한정됨
- WebSocket 표준만 사용하는 것보다 상대적으로 무거울 수 있음

---

## WebSocket vs Socket.io 비교

| 구분         | WebSocket                                 | Socket.io                                      |
|--------------|-------------------------------------------|------------------------------------------------|
| **표준 여부**| HTML5 표준 프로토콜                       | 라이브러리(표준 아님)                           |
| **지원 환경**| 브라우저, 다양한 서버 구현체               | Node.js 서버, JS 클라이언트                     |
| **통신 방식**| WebSocket만 지원                          | WebSocket, Long Polling 등 다양한 방식 지원     |
| **브라우저 지원**| 최신 브라우저(구버전 미지원)           | 구버전 브라우저 포함 대부분 지원                |
| **추가 기능**| 없음(순수 양방향 통신)                    | 자동 재연결, 이벤트, 네임스페이스, 룸 등 제공   |
| **사용 용도**| 표준 기반의 실시간 통신                   | 실시간 웹 서비스 개발의 편의성, 호환성 중시     |

---

- **WebSocket**

  - 표준화된 실시간 양방향 통신 프로토콜
  - 브라우저와 서버가 모두 지원해야 하며, 효율적이고 빠른 데이터 교환이 가능
  
- **Socket.io**

  - WebSocket을 포함한 다양한 실시간 통신 방식을 추상화
  - 브라우저 호환성과 개발 편의성을 높인 Node.js 기반 라이브러리
  
- 실시간 웹 서비스 개발 시, **호환성과 부가 기능**이 필요하다면 Socket.io, **표준 프로토콜**만 필요하다면 WebSocket
