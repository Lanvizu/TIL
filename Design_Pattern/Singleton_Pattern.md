# Singleton Pattern

- 하나의 인스턴스만 생성하여 사용하는 디자인 패턴

- 애플리케이션이 실행할 때, 클래스를 최초 한 번만 메모리를 할당하고 해당 메모리에 인스턴스를 생성하여 사용하는 패턴

    > 인스턴스가 필요할 때, 같은 인스턴스를 생성하지 않고 기존의 인스턴스를 활용하는 것

- 생성자가 여러 번 호출해도 실제로 생성되는 객체는 하나로 최초 생성 이후 호출된 생성자는 이미 생성한 객체를 반환한다.

    > Java에서 생성자를 private로 선언하여 다른 곳에서 생성하지 못하도록 설정 후 getInstance() 메서드를 통해 받아서 사용

### 사용 이유

- 객체를 생성 시 메모리 영역을 할당하는데, 한 번의 new로만 생성하므로 메모리 낭비를 방지할 수 있다.

- 싱글톤으로 구현한 인스턴스는 전역으로 설정되므로, 다른 클래스의 인스턴스들과 데이터를 공유할 수 있다.

### 주로 사용하는 경우

- 공통된 객체를 여러 개 생성하여 사용하는 경우

    > 데이터베이스의 커넥션풀, 스레드풀, 캐시, 로그 기록 객체 등

- 인스턴스가 절대적으로 한 개만 존재하도록 설정할 때

### 단점

- Open-Close Principle에 위배될 수 있다.

- 싱글톤 인스턴스가 혼자 너무 많은 역할을 하거나 많은 데이터를 공유시킬 경우 다른 클래스들 간의 결합도가 높아진다.

- 결합도가 높아지면, 유지보수가 힘들고 테스트도 원활하게 진행하기 어렵다.

- 멀티 스레드 환경에서 동기화 처리를 하지 않을 경우, 인스턴스가 2개 생성되는 문제도 발생 가능

**싱글톤은 필요한 상황에만 사용하자.**
